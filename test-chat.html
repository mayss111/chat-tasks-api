<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Chat test</title>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  </head>
  <body>
    <h1>Chat Test</h1>
    <script>
      const socket = io('http://localhost:3000', {
        transports: ['websocket'],
      });

      socket.on('connect', () => {
        console.log('connected', socket.id);

        // Ã€ adapter avec tes vrais IDs
        const roomId = '<roomId>';
        const userId = '<userId>';

        socket.emit('joinRoom', { roomId });

        socket.emit('message', {
          sender: userId,
          room: roomId,
          content: 'Hello from socket',
        });
      });

      socket.on('message', (msg) => {
        console.log('message event', msg);
      });

      socket.on('system', (msg) => {
        console.log('system event', msg);
      });
    </script>
  </body>
</html>
